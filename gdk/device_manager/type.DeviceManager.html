<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `DeviceManager` type in crate `gdk`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, DeviceManager">

    <title>gdk::device_manager::DeviceManager - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../main.css">

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='../index.html'>gdk</a>::<wbr><a href='index.html'>device_manager</a></p><script>window.sidebarCurrent = {name: 'DeviceManager', ty: 'type', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content type">
<h1 class='fqn'><span class='in-band'><a href='../index.html'>gdk</a>::<wbr><a href='index.html'>device_manager</a>::<wbr><a class='type' href=''>DeviceManager</a></span><span class='out-of-band'><span id='render-detail'>
            <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                [<span class='inner'>&#x2212;</span>]
            </a>
        </span><a id='src-3246' class='srclink' href='../../src/gdk/device_manager.rs.html#109' title='goto source code'>[src]</a></span></h1>
<pre class='rust typedef'>type DeviceManager = Object&lt;<a class='struct' href='../../gdk/ffi/struct.GdkDeviceManager.html' title='gdk::ffi::GdkDeviceManager'>GdkDeviceManager</a>&gt;;</pre><div class='docblock'><p>GdkDeviceManager — Functions for handling input devices</p>

<p>Description</p>

<p>In addition to a single pointer and keyboard for user interface input, GDK contains support
for a variety of input devices, including graphics tablets, touchscreens and multiple
pointers/keyboards interacting simultaneously with the user interface. Such input devices
often have additional features, such as sub-pixel positioning information and additional
device-dependent information.</p>

<p>In order to query the device hierarchy and be aware of changes in the device hierarchy
(such as virtual devices being created or removed, or physical devices being plugged or
unplugged), GDK provides DeviceManager.</p>

<p>By default, and if the platform supports it, GDK is aware of multiple keyboard/pointer pairs
and multitouch devices. This behavior can be changed by calling
DeviceManager::disable_multidevice() before Display::open(). There should rarely be a need to
do that though, since GDK defaults to a compatibility mode in which it will emit just one
enter/leave event pair for all devices on a window. To enable per-device enter/leave events
and other multi-pointer interaction features, Window::set_support_multidevice() must be called
on gdk::Windows (or gtk::Widget::set_support_multidevice() on widgets) window. See the
Window::set_support_multidevice() documentation for more information.</p>

<p>On X11, multi-device support is implemented through XInput 2. Unless
DeviceManager::disable_multidevice() is called, the XInput 2 GdkDeviceManager implementation
will be used as the input source. Otherwise either the core or XInput 1 implementations will
be used.</p>

<p>For simple applications that don’t have any special interest in input devices, the so-called
&quot;client pointer&quot; provides a reasonable approximation to a simple setup with a single pointer
and keyboard. The device that has been set as the client pointer can be accessed via
DeviceManager::get_client_pointer().</p>

<p>Conceptually, in multidevice mode there are 2 device types. Virtual devices (or master devices)
are represented by the pointer cursors and keyboard foci that are seen on the screen. Physical
devices (or slave devices) represent the hardware that is controlling the virtual devices, and
thus have no visible cursor on the screen.</p>

<p>Virtual devices are always paired, so there is a keyboard device for every pointer device.
Associations between devices may be inspected through Device::get_associated_device().</p>

<p>There may be several virtual devices, and several physical devices could be controlling each of
these virtual devices. Physical devices may also be “floating”, which means they are not attached
to any virtual device.</p>

<h1 id='master-and-slave-devices' class='section-header'><a href='#master-and-slave-devices'>Master and slave devices</a></h1>
<pre><code class="language-text">carlos@sacarino:~$ xinput list
⎡ Virtual core pointer                          id=2    [master pointer  (3)]
⎜   ↳ Virtual core XTEST pointer                id=4    [slave  pointer  (2)]
⎜   ↳ Wacom ISDv4 E6 Pen stylus                 id=10   [slave  pointer  (2)]
⎜   ↳ Wacom ISDv4 E6 Finger touch               id=11   [slave  pointer  (2)]
⎜   ↳ SynPS/2 Synaptics TouchPad                id=13   [slave  pointer  (2)]
⎜   ↳ TPPS/2 IBM TrackPoint                     id=14   [slave  pointer  (2)]
⎜   ↳ Wacom ISDv4 E6 Pen eraser                 id=16   [slave  pointer  (2)]
⎣ Virtual core keyboard                         id=3    [master keyboard (2)]
    ↳ Virtual core XTEST keyboard               id=5    [slave  keyboard (3)]
    ↳ Power Button                              id=6    [slave  keyboard (3)]
    ↳ Video Bus                                 id=7    [slave  keyboard (3)]
    ↳ Sleep Button                              id=8    [slave  keyboard (3)]
    ↳ Integrated Camera                         id=9    [slave  keyboard (3)]
    ↳ AT Translated Set 2 keyboard              id=12   [slave  keyboard (3)]
    ↳ ThinkPad Extra Buttons                    id=15   [slave  keyboard (3)]
</code></pre>

<p>By default, GDK will automatically listen for events coming from all master devices, setting the
Device for all events coming from input devices. Events containing device information are
GDK_MOTION_NOTIFY, GDK_BUTTON_PRESS, GDK_2BUTTON_PRESS, GDK_3BUTTON_PRESS, GDK_BUTTON_RELEASE,
GDK_SCROLL, GDK_KEY_PRESS, GDK_KEY_RELEASE, GDK_ENTER_NOTIFY, GDK_LEAVE_NOTIFY, GDK_FOCUS_CHANGE,
GDK_PROXIMITY_IN, GDK_PROXIMITY_OUT, GDK_DRAG_ENTER, GDK_DRAG_LEAVE, GDK_DRAG_MOTION,
GDK_DRAG_STATUS, GDK_DROP_START, GDK_DROP_FINISHED and GDK_GRAB_BROKEN. When dealing with an event
on a master device, it is possible to get the source (slave) device that the event originated from
via Event::get_source_device().</p>

<p>On a standard session, all physical devices are connected by default to the &quot;Virtual Core
Pointer/Keyboard&quot; master devices, hence routing all events through these. This behavior is only
modified by device grabs, where the slave device is temporarily detached for as long as the grab is
held, and more permanently by user modifications to the device hierarchy.</p>

<p>On certain application specific setups, it may make sense to detach a physical device from its
master pointer, and mapping it to an specific window. This can be achieved by the combination of
Device::grab() and Device::set_mode().</p>

<p>In order to listen for events coming from devices other than a virtual device,
Window::set_device_events() must be called. Generally, this function can be used to modify the event
mask for any given device.</p>

<p>Input devices may also provide additional information besides X/Y. For example, graphics tablets may
also provide pressure and X/Y tilt information. This information is device-dependent, and may be
queried through Device::get_axis(). In multidevice mode, virtual devices will change axes in order to
always represent the physical device that is routing events through it. Whenever the physical device
changes, the “n-axes” property will be notified, and Device::list_axes() will return the new device
axes.</p>

<p>Devices may also have associated “keys” or macro buttons. Such keys can be globally set to map into
normal X keyboard events. The mapping is set using Device::set_key().</p>
</div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../";
        window.currentCrate = "gdk";
        window.playgroundUrl = "";
    </script>
    <script src="../../jquery.js"></script>
    <script src="../../main.js"></script>
    
    <script async src="../../search-index.js"></script>
</body>
</html>